---
title: 主题的配置
date: 2018-01-31 20:13:31
tags: [git,hexo]
categories: [git]
---

#### 在每篇文章末尾统一添加“本文结束”标记####
* 在路径`\themes\next\layout\_macro`中新建`passage-end-tag.swig`文件,并添加以下内容
```
<div>
    {% if not is_index %}
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    {% endif %}
</div>
```
<!--more-->
* 接着打开`\themes\next\layout\_macro\post.swig`文件，在`post-body `之后， `post-footer` 之前,添加下面的代码
```
<div>
  {% if not is_index %}
    {% include 'passage-end-tag.swig' %}
  {% endif %}
</div>
```
* 然后打开主题配置文件`_config.yml`,在末尾添加
```
 #文章末尾添加“本文结束”标记
passage_end_tag:
  enabled: true
```
完成以上设置之后，在每篇文章之后都会添加
#### 设置网站的图标Favicon ####
* 在[EasyIcon](http://www.easyicon.net)中找一张（32*32）一张(16*16)的ico图标,或者去别的网站下载或者制作，然后把图标放在/themes/next/source/images里，并且修改主题配置文件：
```favicon:
  small: /images/favicon-16x16-next.png #改为你的图片对应的名字
  medium: /images/favicon-32x32-next.png
```
#### 字数统计####
1. 执行`npm i --save hexo-wordcount`命令下载字数统计工具
2. 为了方便地开启和关闭字数统计功能，我们需要在配置文件（站点配置文件或主题配置文件均可）中添加一个键值对：
 ```
 #开启字数统计 
 word_count: true
 #关闭字数统计
 word_count: false
 ```

3. 修改 post.swig
4. 为了能在文章信息处显示字数，我们需要修改 `themes/next/layout/_macro/post.swig`，在 `class` 为 `post-mata` 的 `div` 中的添加如下内容：
``` 
{% if theme.word_count %}
  <span class="post-letters-count">
    &nbsp; | &nbsp;
    <span>{{ wordcount(post.content) }} 字</span>
    &nbsp; | &nbsp;
    <span>{{ min2read(post.content) }} min</span>
  </span>
{% endif %}
```
5. 修改 `footer.swig`,想要在页面底部网站信息处显示字数统计，就要修改 `themes/next/layout/_macro/post.swig` ，在文件的最后添加如下内容：
```
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">共{{ totalcount(site) }}字</span>
</div>
```
6. 对于移动端尤其是手机来说，加上字数统计和阅读时间预估后的文章信息显得过于冗长，在稍微小一些的屏幕上甚至会分两行显示。而如果我们仔细观察会发现，使用 Hexo NexT 主题的站点如果开启了评论，那么文章信息处的评论数只会在大尺寸屏幕上显示，在小尺寸屏幕上会直接隐藏掉，这显然是利用了 CSS 的 @media 来适配不同尺寸屏幕，因此我们只需要取巧地在原主题地 CSS 的 @media 中完成隐藏` .post-letters-count `这个类就可以达成我们的目的.修改位于 `themes/next/source/css/_common/components/post` 目录下的 `post-collapse.styl `文件，在文件前几行找到 @media 并修改为：
```
@media (max-width: 767px) {
  .post-letters-count { display: none;}
  .posts-collapse {
    margin: 0 20px;
    .post-title, .post-meta {
      display: block;
      width: auto;
      text-align: left;
    }
  }
}
```
#### 友情链接 ####
* [hexo的next主题个性化配置教程](http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html)
* [hexo高阶教程](https://juejin.im/post/58eb2fd2a0bb9f006928f8c7)
